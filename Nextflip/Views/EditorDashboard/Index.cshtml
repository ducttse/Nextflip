@{
    ViewBag.Title = "Media Editor";
    Layout = "_CustomLayout";
}
@section Styles {
    <link href="@Url.Content("~/css/User-Manager.css")" rel="stylesheet" type="text/css" />
     <link href="@Url.Content("~/css/Slide-Bar.css")" rel="stylesheet" type="text/css" />
     <link href="@Url.Content("~/css/Form.css")" rel="stylesheet" type="text/css" />
}
<div class="ui_wrapper col-10" style="background-color: #fff">
    <div class="p-2 col-3  d-flex  justify-content-center">
      <a class="btn btn-primary d-flex" href="/EditorDashboard/ViewAddNewMedia">
        <i class="fas fa-plus pt-1 pe-1"></i>
        Add new media
      </a>
    </div>
    <div class="table_container p-2 w-100 mx-auto rounded" style="background-color: #ffffff"> 
        <div class="btn-group w-100 px-3 pt-3 pb-2 border rounded-top">
            <div id="search_wrapper" class="col-6"></div>
            <div class="d-flex col-3">
              <label class="form-label mt-2 text-dark">Category</label>
                <select id="category_filter" class="ms-2 form-select h-85 w-50" onchange="setSelectedCategory(this)">
                    <option value="all">All</option>
                </select> 
            </div>
            <div class="col-2 offset-1 d-flex">
                <label class="form-label mt-2 text-dark">Status</label>
                <select id="status_filter" class="ms-2 form-select h-85" onchange="setSelectedStatus(this)">
                    <option selected>All</option>
                    <option value="Enabled">Enabled</option>
                    <option value="Disabled">Disabled</option>
                </select> 
            </div>
        </div>
        <div id="notFound" class="hide"> 
        </div>
        <div id="table_holder" class="border rounded-bottom pb-0 mb-2">
            <table class="table table-striped table-responsive table-borderless mb-0 table-hover w-100 shadow">
                <thead class="table-secondary">
                    <tr>
                        <th class="col">#</th>
                        <th class="col">Media name</th>
                        <th class="col text-center">Status</th>
                        <th class="col text-center">Action</th>
                    </tr>
                </thead>
                <tbody id="dataWapper"></tbody>
            </table>
            <div class="d-flex align-items-center table-secondary">
                <p class="col-2 my-auto form-text text-center" id="page_notification"></p>
                <p  class="col-1 me-2 my-auto form-text text-end">Rows per page</p>
                <div class="col-1">
                    <select class="form-select form-select-sm w-75" onchange="setRowsPerPage(this)">
                        <option value="12" selected>12</option>
                        <option value="14">14</option>
                        <option value="16">16</option>
                        <option value="18">18</option>
                    </select>
                </div>
                <div id="pagination" class="col-8 d-flex justify-content-end pe-5">
                </div>
            </div>
        </div>
        <div id="pagination" class="d-flex justify-content-center"></div>
    </div>
</div>
<!-- Modal form -->
<div class="modal fade" id="modalForm" tabindex="-1" aria-labelledby="Form" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="Form_Label">Disabled Media</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
            <div class="modal-body">
            <input type="hidden" id="Form"/>
              <div class="mb-3">
                <label for="message-text" class="col-form-label">Leave reason for this activity</label>
                <textarea name="note" style="height: 250px" class="form-control" id="note" ></textarea>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" id="submit_btn">Submit</button>
            </div>
        </div>
      </div>x
    </div>
    <!-- Modal check -->
<div class="modal fade" id="modalCheck" tabindex="-1" aria-labelledby="Check_Label" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="Check_Label"> Are use sure to enable this media? </h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-footer">
            <input type="hidden" id="Check_UserID"/>
            <button type="button" class="btn btn-primary" id="confirm_btn"> Confirm </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->
<div class="modal fade" id="modal_flash" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body">
            <div class="row text-center" id="flash_message">
            </div>
          </div>
        </div>
      </div>
    </div>
<!-- Edit modal -->
<div class="modal fade" id="modalEditForm" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="Form_Label">Edit Media</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <div class="mb-3 row">
                        <label for="title_Edit" class="required col-sm-1 col-form-label">Title</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" id="title_Edit" onkeyup="onInput(this)" />
                            <div class="invalid-feedback">
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="category" class="required col-sm-1 col-form-label">Category</label>
                        <div class="col-sm-10" id="CB_holder_Edit">
                            <p class="d-none" id="empty_checkbox" style="color: #dc3545;margin-top: .25rem; font-size: .875em;">Must choose at least one</p>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="filmType_Edit" class="required col-sm-1 col-form-label">Film type</label>
                        <div class="col-sm-3">
                            <select class="form-select" class="form-control" id="filmType_Edit">
                            </select>
                            <div class="invalid-feedback">
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="cast_Edit" class="col-sm-1 col-form-label">Cast</label>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" id="cast_Edit">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="director_Edit" class="col-sm-1 col-form-label">Director</label>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" id="director_Edit">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="publicYear_Edit" class="col-sm-1 col-form-label">Publish year</label>
                        <div class="col-sm-2">
                            <input type="text" class="form-control" id="publicYear_Edit">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="duration_Edit" class="col-sm-1 col-form-label">Duration</label>
                        <div class="col-sm-2">
                            <input type="text" class="form-control" id="duration_Edit">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="language_Edit" class="col-sm-1 col-form-label">Language</label>
                        <div class="col-sm-2">
                            <input type="text" class="form-control" id="language_Edit">
                            <div class="invalid-feedback">
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="description_Edit" class="required col-sm-1 col-form-label">Description</label>
                        <div class="col-sm-10">
                            <textarea type="text" class="form-control" id="description_Edit" onkeyup="onInput(this)"></textarea>
                            <div class="invalid-feedback">
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="banner_Edit" class="required col-sm-1 col-form-label">Banner</label>
                        <div class="col-sm-4">
                            <input type="file" class="form-control" id="banner_Edit" onchange="getFile(this)">
                            <div class="invalid-feedback">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-bg-danger" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="submit_btn">Submit</button>
            </div>
        </div>
    </div>
</div>    
    @section script {
        <script src="~/js/Pagination.js"></script>
    <script src="~/js/Slide-Bar.js"></script>
    <script src="~/js/Search-Component.js"></script>
    <script src="~/js/View-Editor-Dashboard.js"></script>
    <script src="~/js/Edit-Media.js"></script>
    <script src="~/js/Change-Media-Status.js"></script>
    <script src="~/js/File-Uploader.js"></script>
    <script> 
    requestMediaData();
    appendSearch("Search media's name", "");
    setEnterEvent();
    let button1 = `<a href="/EditorDashboard/Index" class="side_bar_btn btn btn-dark text-decoration-none link-light text-start w-100" onclick="showAddStaffModal()">
                        Media manager
                      </a>`;
    let button2 = `<a href="/EditorDashboard/ViewEditRequest"  onclick="return showForm();" class="side_bar_btn btn btn-dark text-decoration-none link-light text-start w-100" onclick="showAddStaffModal()">
                        View edit request
                    </a>`;
    appendButton(button2);
    appendButton(button1);
    </script>
        <script src="~/js/MessageModal.js"></script>
    }
